<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>PETRA MELLBRAND</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dc/2.1.8/dc.min.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" 
          integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
     <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Julius+Sans+One&display=swap">
 
   <link rel="stylesheet" type="text/css" href="style.css">

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dc/2.1.8/dc.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/queue-async/1.0.7/queue.min.js"></script>
</head>

<body>
    <!--class="d-flex h-100 w-100 aligner no-gutters mx-auto"-->

    <nav class="navbar sticky-top navbar-light bg-light row">
        <div class="d-none d-lg-block col-12">
            <a class="navbar-brand text-light" href="index.html">
                <img src="data/Petra ansiktsbild 2025.jpg" width="150" height="150" class="d-inline-block align-top rounded-circle img-thumbnail" alt="Petra Mellbrand">
                mellbrand.com
            </a>
            <span class="float-right text-light ">Fullstack Software Developer | Scrum Master | Product Owner</span>
        </div>
        </nav>



    <!–– .................First row  Circles and similarities..................................................... -->
    <div class="container container-fluid aligner w-100 h-100">
        <div class="row w-100 h-100">


            <!–– .................Presentation XS-MD................................ -->
            <div class="col-12 d-lg-none text-center">

                <h1 class="text-center my-auto presentation">Petra Mellbrand</h1>
                <p>IT PROJECT MANAGER</p>
                <small>FULLSTACK SOFTWARE DEVELOPER <br /> SCRUM MASTER | PRODUCT OWNER</small>
                <hr />
            </div>


            <!–– .................circle 1................................ -->
            <div class="col-12 col-md-6 offset-md-3 offset-lg-0 col-lg-4 pb-3">
                <!–– Web Dev. - Orchestration - Production Skill Levels -->
                <div class="col-12 mx-auto mt-2 text-center">
                    <span class="headertext">Click around <i class="fas fa-arrow-down lightblueText"></i></span>
                    <a class="reset btn bg-light btn-small bg-lightblue mr-3" href="javascript:dc.filterAll(); dc.renderAll();">Reset <i class="fas fa-sync-alt text-light"></i></a>
                    <div id="per-cat-chart" class="d-flex mx-auto mt-2"></div>
                </div>
            </div>

            <!–– .................Presentation All but MD................................ -->
            <div class="col-4 d-none d-lg-block d-flex  my-auto">

            </div>

            <!–– .................Circle 2 Tools................................ -->
            <div class="col-12 col-md-6 offset-md-3 offset-lg-0 col-lg-4  aligner pb-3">

                <!–– Skill Level for Each Tool -->
                <div class="col-12 mx-auto text-center">
                    <a class="btn bg-light btn-small bg-lightblue mr-3 mb-2 mt-2 centered-button d-none d-lg-block" href="data/PetraMellbrandCV.pdf" download="Petra-Mellbrand-CV"><i class="fas fa-arrow-down text-light"></i>  DOWNLOAD MY CV</a>

                    <div id="per-name-chart" class="d-flex aligner mx-auto my-auto"></div>
                </div>
            </div>

            <!–– I can do the DC-charts responsive setting width to null but they all get the same width and the bar chart is col-12 all the time,
            this is the most ugly workaround -I know. Sorry for that. -->

            <!–– .................Bar Chart XS RESPONSIVE................................ -->
            <div class="row d-sm-none">
                <div class="col-12">
                    <!–– Skill Level for Each Tool -->
                    <!--<h3 class="headertext mt-5">Toolbox XS</h3>-->
                    <div id="bar-chartxs"></div>
                </div>
            </div>

            <!–– .................Bar Chart SM RESPONSIVE................................ -->
            <div class="row d-none d-sm-block d-md-none">
                <div class="col-12">
                    <!–– Skill Level for Each Tool -->
                    <!--<h3 class="headertext mt-5">Toolbox SM</h3>-->
                    <div id="bar-chartsm"></div>
                </div>
            </div>

            <!–– .................Bar Chart MD................................ -->
            <div class="row d-none d-md-block d-lg-none">
                <div class="col-12">
                    <!–– Skill Level for Each Tool -->
                    <!--<h3 class="headertext mt-5">Toolbox MD</h3>-->
                    <div id="bar-chartmd"></div>
                </div>
                <hr />
            </div>

            <!–– .................Bar Chart LG................................ -->
            <div class="row d-none d-lg-block d-xl-none">
                <div class="col-12">
                    <!--<!–– Skill Level for Each Tool -->
                    <!--<h3 class="headertext mt-5">Toolbox LG</h3>-->
                    <div id="bar-chartlg"></div>
                </div>
                <hr />
            </div>

            <!–– .................Bar Chart XL................................ -->
            <div class="row d-none d-xl-block">
                <div class="col-12">
                    <!–– Skill Level for Each Tool -->
                    <!--<h3 class="headertext mt-5">Toolbox XL</h3>-->
                    <div id="bar-chartxl"></div>
                </div>
            </div>



            <!–– .................CV Timeline..................................................... -->
            <div class="col-12">
                <a class="reset btn bg-light btn-block bg-lightblue mt-5 mb-3 d-lg-none" href="data/PetraMellbrandCV.pdf" download="Petra-Mellbrand-CV"><i class="fas fa-arrow-down text-light"></i>  DOWNLOAD MY CV</a>

            </div>


        </div>
    </div>




    <script>
        queue()
            .defer(d3.json, "data/petrascv.json")
            .await(makeGraphs);

        function makeGraphs(error, transactionsData) {
            var ndx = crossfilter(transactionsData);


            //Circle Categories
            var cat_dim = ndx.dimension(dc.pluck('cat'));
            var total_level_per_cat = cat_dim.group().reduceSum(dc.pluck('level'));
            dc.pieChart('#per-cat-chart')
                .legend(dc.legend().x(130).y(55).gap(15))
                .width(null)
                .height(null)
                .radius(450)
                .innerRadius(400)
                .transitionDuration(1500)
                .dimension(cat_dim)
                .group(total_level_per_cat)
                .ordinalColors(['#c2dae6', '#77c3ec', '#d4b3e2', '#9dd9f3', '#b8e2e2', '#bae0f3', '#edf2fb']);

            //Circle Names and level
            var name_dim = ndx.dimension(dc.pluck('name'));
            var total_level_per_name = name_dim.group().reduceSum(dc.pluck('level'));
            dc.pieChart('#per-name-chart')
                .width(null)//null will make it responsive (follow its element)
                .height(null)
                .radius(450)
                .slicesCap(25)
                .transitionDuration(1500)
                .dimension(name_dim)
                .group(total_level_per_name)
                //.colors(d3.scale.category20b());
                .ordinalColors(['#c2dae6', '#77c3ec', '#d4b3e2', '#9dd9f3', '#b8e2e2', '#bae0f3', '#edf2fb']);


            //Barchart responsive for XS
            var name_dim = ndx.dimension(dc.pluck('name'));
            var total_level_by_name = name_dim.group().reduceSum(dc.pluck('level'));
            var total_chart = dc.barChart('#bar-chartxs');
            total_chart
                .margins({ top: 10, left: 30, right: 10, bottom: 100 })
                .width(null)
                .height(null)
                .dimension(name_dim)
                .group(total_level_by_name)
                .x(d3.scale.ordinal())
                .xUnits(dc.units.ordinal)
                .colorAccessor(d => d.key)
                .ordinalColors(['#c2dae6', '#77c3ec', '#d4b3e2', '#9dd9f3', '#b8e2e2', '#bae0f3', '#edf2fb']);

            //Barchart responsive for SM
            var name_dim = ndx.dimension(dc.pluck('name'));
            var total_level_by_name = name_dim.group().reduceSum(dc.pluck('level'));
            var total_chart = dc.barChart('#bar-chartsm');
            total_chart
                .margins({ top: 10, left: 30, right: 10, bottom: 100 })
                .width(560)
                .height(null)
                .dimension(name_dim)
                .group(total_level_by_name)
                .x(d3.scale.ordinal())
                .xUnits(dc.units.ordinal)
                .colorAccessor(d => d.key)
                .ordinalColors(['#c2dae6', '#77c3ec', '#d4b3e2', '#9dd9f3', '#b8e2e2', '#bae0f3', '#edf2fb']);



            //Barchart for MD
            //Since the responsive Barchart follows the circles and goes to col-6 on medium -I specify width to get col-12(ish)
            var name_dim = ndx.dimension(dc.pluck('name'));
            var total_level_by_name = name_dim.group().reduceSum(dc.pluck('level'));
            var total_chart = dc.barChart('#bar-chartmd');
            total_chart
                .margins({ top: 10, left: 30, right: 10, bottom: 100 })
                .width(755)
                .height(350)
                .dimension(name_dim)
                .group(total_level_by_name)
                .x(d3.scale.ordinal())
                .xUnits(dc.units.ordinal)
                .colorAccessor(d => d.key)
                .ordinalColors(['#c2dae6', '#77c3ec', '#d4b3e2', '#9dd9f3', '#b8e2e2', '#bae0f3', '#edf2fb']);

            //Barchart for LG
            //Since the responsive Barchart follows the circles and goes to col-4 on lg -I specify width to get col-12(ish)
            var name_dim = ndx.dimension(dc.pluck('name'));
            var total_level_by_name = name_dim.group().reduceSum(dc.pluck('level'));
            var total_chart = dc.barChart('#bar-chartlg');
            total_chart
                .margins({ top: 10, left: 30, right: 10, bottom: 100 })
                .width(992)
                .height(350)
                .dimension(name_dim)
                .group(total_level_by_name)
                .x(d3.scale.ordinal())
                .xUnits(dc.units.ordinal)
                .colorAccessor(d => d.key)
                .ordinalColors(['#c2dae6', '#77c3ec', '#d4b3e2', '#9dd9f3', '#b8e2e2', '#bae0f3', '#edf2fb']);

            //Barchart for XL
            //Since the responsive Barchart follows the circles and goes to col-4 on lg -I specify width to get col-12(ish)
            var name_dim = ndx.dimension(dc.pluck('name'));
            var total_level_by_name = name_dim.group().reduceSum(dc.pluck('level'));
            var total_chart = dc.barChart('#bar-chartxl');
            total_chart
                .margins({ top: 10, left: 30, right: 10, bottom: 100 })
                .width(1200)
                .height(350)
                .dimension(name_dim)
                .group(total_level_by_name)
                .x(d3.scale.ordinal())
                .xUnits(dc.units.ordinal)
                .colorAccessor(d => d.key)
                .ordinalColors(['#c2dae6', '#77c3ec', '#d4b3e2', '#9dd9f3', '#b8e2e2', '#bae0f3', '#edf2fb']);





            dc.renderAll();

            total_chart.on("postRender", function (chart) {
                chart.select('.axis.x')
                    .attr("text-anchor", "end")
                    .selectAll("text")
                    .attr("transform", "rotate(-90)")
                    .attr("dy", "-0.7em")
                    .attr("dx", "-3.5em");
            });

        }


    </script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>
